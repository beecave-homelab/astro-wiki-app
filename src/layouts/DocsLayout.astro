---
import Layout from './Layout.astro';
import Sidebar from '../components/Sidebar.astro';
import ThemeToggle from '../components/ThemeToggle.astro';
import '../styles/docs.css';

const { frontmatter, url } = Astro.props;
---

<Layout title={frontmatter.title}>
  <div class="min-h-screen bg-dark-100 text-white">
    <header class="fixed top-0 z-40 w-full h-16 bg-dark-200 border-b border-dark-300">
      <div class="container mx-auto px-4 h-full flex items-center justify-between">
        <a href="/" class="text-2xl font-bold text-white">Docs</a>
      </div>
    </header>

    <div class="pt-16 lg:flex">
      <Sidebar currentPath={url} />
      
      <main class="flex-1 lg:ml-64 p-8">
        <article class="prose prose-invert max-w-none">
          <slot />
        </article>
      </main>
    </div>

    <ThemeToggle />
  </div>
</Layout>

<style is:global>
  /* Base styles for markdown content */
  .prose {
    color: #e5e7eb;
    max-width: 65ch;
  }

  .prose h1 {
    color: #fff;
    font-size: 2.25rem;
    margin-top: 0;
    margin-bottom: 2rem;
    font-weight: 800;
  }

  .prose h2 {
    color: #fff;
    font-size: 1.875rem;
    margin-top: 2.5rem;
    margin-bottom: 1.25rem;
    font-weight: 700;
  }

  .prose h3 {
    color: #fff;
    font-size: 1.5rem;
    margin-top: 2rem;
    margin-bottom: 1rem;
    font-weight: 600;
  }

  .prose p {
    margin-top: 1.25rem;
    margin-bottom: 1.25rem;
    line-height: 1.8;
  }

  .prose strong {
    color: #fff;
    font-weight: 600;
  }

  .prose ul {
    margin-top: 1.25rem;
    margin-bottom: 1.25rem;
    padding-left: 1.625rem;
    list-style-type: disc;
  }

  .prose ol {
    margin-top: 1.25rem;
    margin-bottom: 1.25rem;
    padding-left: 1.625rem;
    list-style-type: decimal;
  }

  .prose li {
    margin-top: 0.5rem;
    margin-bottom: 0.5rem;
    padding-left: 0.375rem;
  }

  .prose a {
    color: #60a5fa;
    text-decoration: underline;
    font-weight: 500;
  }

  .prose a:hover {
    color: #93c5fd;
  }

  .prose code {
    color: #e5e7eb;
    background-color: #374151;
    padding: 0.2rem 0.4rem;
    border-radius: 0.25rem;
    font-size: 0.875em;
  }

  .prose pre {
    background-color: #1f2937;
    padding: 1rem;
    border-radius: 0.5rem;
    overflow-x: auto;
  }

  .prose pre code {
    background-color: transparent;
    padding: 0;
    border-radius: 0;
    color: inherit;
  }

  .prose blockquote {
    border-left: 4px solid #4b5563;
    padding-left: 1rem;
    margin-left: 0;
    margin-right: 0;
    font-style: italic;
    color: #9ca3af;
  }

  .prose img {
    margin-top: 2rem;
    margin-bottom: 2rem;
    border-radius: 0.5rem;
  }

  .prose hr {
    border-color: #4b5563;
    margin-top: 3rem;
    margin-bottom: 3rem;
  }

  /* Table styles */
  .prose table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 2rem;
    margin-bottom: 2rem;
  }

  .prose th {
    background-color: #374151;
    padding: 0.75rem;
    text-align: left;
    font-weight: 600;
    color: #fff;
  }

  .prose td {
    padding: 0.75rem;
    border-bottom: 1px solid #4b5563;
  }

  /* Custom styles for code blocks */
  .prose pre {
    position: relative;
  }

  .prose pre .copy-button {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    padding: 0.25rem 0.5rem;
    background-color: #374151;
    border: none;
    border-radius: 0.25rem;
    color: #e5e7eb;
    font-size: 0.875rem;
    cursor: pointer;
    opacity: 0;
    transition: opacity 0.2s;
  }

  .prose pre:hover .copy-button {
    opacity: 1;
  }

  .prose pre .copy-button:hover {
    background-color: #4b5563;
  }
</style>